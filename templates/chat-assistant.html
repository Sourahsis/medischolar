<html>
<head>
    <title>Chat Box UI Design</title>
    <link rel="stylesheet" href="static/css/styles_chat.css">


    <!-- Import this CDN to use icons -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.3/socket.io.js"></script>
</head>
<body>
<!-- Main container  -->
    <div class="container">
<!--  Message header section starts    -->
        
<div class="msg-header">
    <div class="msg-header">
        <div class="container1">

            <img src="static/images/pic1.png" class="msgimg">
            <div class="active ">
                <p>User name</p>
            </div>
        </div>
    </div>
         </div> 
<!-- Message header section ends -->

<!-- Chat inbox section starts -->
         
    <div class="chat-page">
            <div class="msg-inbox">
                <div class="chats">
                     <div class="msg-page">
<!-- Contains the incoming and outgoing messages -->
                      </div> 
                </div>
                
<!--  Message bottom section starts -->
            
                
                <div class="received-chats">
                    <div class="received-chats-img">
                        <img src="static/images/pic1.png">

                    </div>
                    <div class="received-msg">
                        <div class="received-msg-inbox">
                            <p>Hi !! This is message from Riya . Lorem ipsum, dolor sit amet consectetur adipisicing elit. Non quas nemo eum, earum sunt, nobis similique quisquam eveniet pariatur commodi modi voluptatibus iusto omnis harum illum
                                iste distinctio expedita illo!</p>
                            <span class="time">18:06 PM | July 24 </span>
                        </div>
                    </div>
                </div>
                <div class="received-chats">
                    <div class="received-chats-img">
                        <img src="static/images/pic1.png">

                    </div>
                    <div class="received-msg">
                        <div class="received-msg-inbox">
                            <p>Hi !! This is message from Riya . Lorem ipsum, dolor sit amet consectetur adipisicing elit. Non quas nemo eum, earum sunt, nobis similique quisquam eveniet pariatur commodi modi voluptatibus iusto omnis harum illum
                                iste distinctio expedita illo!</p>
                            <span class="time">18:06 PM | July 24 </span>
                        </div>
                    </div>
                </div>
                <div class="outgoing-chats">
                    <div class="outgoing-chats-img">
                        <img src="static/images/pic1.png">

                    </div>
                    <div class="outgoing-msg">
                        <div class="outgoing-chats-msg">
                            <p class="multi-msg">Hi riya , Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo nobis deleniti earum magni recusandae assumenda.
                            </p>
                            <p class="multi-msg">Lorem ipsum dolor sit amet consectetur.</p>


                            <span class="time">18:30 PM | July 24 </span>
                        </div>
                    </div>
                </div>
                <div class="received-chats">
                    <div class="received-chats-img">
                      <img src="static/images/pic1.png" />
                    </div>
                    <div class="received-msg">
                      <div class="received-msg-inbox">
                        <p class="single-msg">
                          Hi !! This is message from John Lewis. Lorem ipsum, dolor sit amet
                          consectetur adipisicing elit. iste distinctio expedita illo!
                        </p>
                        <span class="time">18:31 PM | July 24</span>
                      </div>
                    </div>
                  </div>
                  <div class="outgoing-chats">
                    <div class="outgoing-chats-img">
                      <img src="static/images/pic1.png" />
                    </div>
                    <div class="outgoing-msg">
                      <div class="outgoing-chats-msg">
                        <p>
                          Lorem ipsum dolor sit amet consectetur adipisicing elit. Velit, sequi.
                        </p>
                  
                        <span class="time">18:34 PM | July 24</span>
                      </div>
                    </div>
                  </div>
                  <div id="message-box"></div>
                  
                  
               
                <div class="msg-bottom">
                    <div class="input-group">
                        <input type="text" class="form-control" id="message-input" placeholder="Write message...">
                        <div class="input-group-append">
                            <button class="btn btn-primary" id="send-button" onclick="pyscript.run('send_message')">Send</button>
                        </div>
                    </div>
                </div>

               
              
                
                
<!-- Message bottom section ends. -->
            </div>
        </div>
    </div>
  <script>
    <!-- Add a JavaScript section at the end of your HTML -->
    const socket = io();
    
    // Function to append a message to the message box
    function appendMessage(username, message) {
        const messageBox = document.getElementById("message-box");
        const messageDiv = document.createElement("div");
        messageDiv.innerHTML = `<p><strong>${username}:</strong> ${message}</p>`;
        messageBox.appendChild(messageDiv);
    }

    // Handle the send button click
    document.getElementById("send-button").addEventListener("click", () => {
        const messageInput = document.getElementById("message-input");
        const message = messageInput.value.trim();
        if (message !== "") {
            res=generateResponse(message);
            appendMessage("Sourashis", message);
            socket.emit("send_message", message);
            appendMessage("healthbot", "hi");
            socket.emit("send_message", "hi");
            messageInput.value = "";
        }
    });

    // Listen for incoming messages
    socket.on("receive_message", (message) => {
        appendMessage("User name", message);
    });

  </script>

</body>

</html>






